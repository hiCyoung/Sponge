{
  "title": "Untitled Note",
  "cells": [
    {
      "type": "markdown",
      "data": "## 检验单打印\n@(本木医疗)[接口, 检验单, 打印]\n### 更新日志\n**2017年5月15日**\n* 检验单详情接口，output节点添加sample_name（报告单名称）字段。\n* 检验单详情接口，output节点添加sample_treatment_no（病案/门诊）字段。\n* 检验单详情接口，output节点添加remark（项目备注）字段。\n* 检验单详情接口，item节点添加expert_conclusions（鉴定结论）字段。\n* 检验单详情接口，item节点添加bacteria_quantity（菌量结果）字段。\n* 检验单详情接口，item节点添加drug_resistant（耐药表型）字段。\n* 检验单详情接口，item节点添加explain（解释说明）字段。\n\n**2017年3月3日**\n\n* 文档添加详细字段说明，检验清单列表查询接口的返回值group_type_id改为必传字段\n\n### 业务说明\n一、在医院系统中生成一个检验单时，平台需要同步到检验单信息，实现微信通知患者等功能。\n此处涉及两个接口：\n- 医院系统检验单发生变化时，通知线上平台，调用检验单变更通知接口（具体哪些状态推送，以线下沟通结果为准）\n- 线上平台根据患者卡信息以及检验单id对lis调用检验清单详情查询接口，获取完整检验单信息\n\n检验单状态定义：0-初始状态 1-已支付（待收集） 2-已收集（待核收） 3-已核收（待检验） 4-已检验完成（待审核） 5-已审核完成 6-可打印 7-打印完成 99-由于其他原因不可打印（推到此状态时要确保报告单已生成，患者可去某处可取）\n\n二、患者在自助机打印\n- 平台调用lis检验清单列表查询接口，获取患者所有检验单，平台会根据状态、时间、配置信息等进行过滤出要打印的检验单（只有lis检验单状态返回6-可打印 的可在自助机打印）\n- 筛选出需要打印的检验单，会再调lis检验清单详情查询接口，获取最新的检验单信息\n- 每份检验单在自助机打印完成，平台调用lis打印完成通知接口\n注：检验单在自助机只可打印一次，在平台打印过的检验单，即使lis返回状态为可打印也不可在自助机再次打印\n\n### 检验单变更通知（平台提供）\n\n在his或lis系统中，如果检验单发生变化，需要通知线上平台。包括如下业务节点：检验单生成，检验单支付状态发生变化，检验单打印状态发生变化。（具体哪些状态推送，以线下沟通结果为准）\n\n#### 调用方式\n```powershell\nURI: /ws/hos/${hos_code}/sample/notify\nMethod: POST\n```\n\n#### 请求参数\n```xml\n<request>\n  <time_stamp>20161009091151</time_stamp>\n  <input>\n    <hos_code>H114801</hos_code>\n    <card_no>1003102331</card_no>\n    <card_type>1</card_type>\n    <sample_id>10321asdlalsdlkj</sample_id>\n  </input>\n</request>\n```\n| 参数名称      | 描述 | 格式 |  必填   | 说明|\n| :-: | :-:| :-: | :-: | :-:|\n| hos_code    | 医院编码 | 20 | 是  | 同his对应平台的医院编码 |\n| card_no    | 卡号 | 20 | 是  | 京医通卡或社保卡号 |\n| card_type    | 卡类型 | 枚举 | 是  | 参考附录：卡类型 |\n| sample_id    | 检验单id | 255 | 是 | 发生变化的sample_id，sample_id为 lis系统中的检验单唯一编号，遵循安全、唯一、不重复的标准 |\n\n#### 响应结果\n```xml\n<response>\n  <ret_code>0</ret_code>\n  <ret_msg>成功</ret_msg>\n  <output/>\n</response>\n```\n\n### 检验清单列表查询\n\n#### 调用方式\n```powershell\nURI: /ws/check/list\nMethod: POST\n```\n\n#### 请求参数\n```xml\n<request>\n  <time_stamp>20161103163351</time_stamp>\n  <input>\n    <hos_code>H110321</hos_code>\n    <card_no>118969415001</card_no>\n    <card_type>3</card_type>\n    <id_card_no>1011301230910391</id_card_no>\n    <id_card_type>1</id_card_type>\n    <from>20161205000000</from>\n    <to>20161205000000</to>\n  </input>\n</request>\n```\n| 参数名称      | 描述 | 格式 |  必填   | 说明|\n| :-: | :-:| :-: | :-: | :-:|\n| hos_code    | 医院编码 | 20 | 是  |  |\n| card_no    | 卡号 | 20 | 是  |京医通卡或社保卡号 |\n| card_type    | 卡类型 | 枚举 | 是  | 参考附录：卡类型 |\n| id_card_no    | 证件号码 | 30 | 是  |   |\n| id_card_type    | 证件类型 | 枚举 | 是  | 参考附录：证件类型 |\n| from | 开始时间| 时间  | 是 | 20161205000000 |\n| to | 结束时间|时间|是|20161205000000|\n备注：院方可自行选择根据卡号或证件号或者卡号和证件号结合进行查询，平台以lis返回结果为准\n\n#### 返回结果\n```xml\n<response>\n  <ret_code>0</ret_code>\n  <ret_msg>成功</ret_msg>\n  <output>\n\t  <hos_code>H110321</hos_code>\n\t  <sample_list>\n\t\t  <sample>\n\t\t  \t  <sample_id>12039819hasjdh</sample_id>\n\t\t  \t  <card_no>118969415001</card_no>\n\t\t\t  <card_type>3</card_type>\t\t\t  \n\t\t      <id_card_no>1011301230910391</id_card_no>\n\t\t      <id_card_type>1</id_card_type>\n\t\t      <treatment_no>123</treatment_no>\n\t\t\t  <sample_type_name>末梢全血</sample_type_name>\n\t\t\t  <dept_code1>NK</dept_code1>\n\t\t\t  <dept_name1>内科</dept_name1>\n\t\t\t  <dept_code2>NKZH</dept_code2>\n\t\t\t  <dept_name2>内科综合</dept_name2>\n\t\t\t  <create_time>20161212101010</create_time>\n\t\t\t  <report_time>20161213101010</report_time>\n\t\t\t  <sample_status>0</sample_status>  \n              <print_count>0</print_count> \n\t\t\t  <un_printable_prompt>因为你还没交钱，赶紧去交钱</un_printable_prompt>\n\t\t\t  <group_type_id>小组编号</group_type_id>\n\t\t  </sample>\n\t  </sample_list>\n  </output>\n</response>\n```\n\n| 参数名称      | 描述 | 格式 |  必填   | 说明|\n| :-: | :-:| :-: | :-: | :-:|\n| hos_code    | 医院编码 | 20 | 是  |  |\n| sample_id    | 检验id | 255 | 是 | lis系统中的检验单唯一编号，遵循安全、唯一、不重复的标准 |\n| sample_type_name | 样本类型 | 30 | 是 | 例如：血常规 |\n| treatment_no    | 就诊号 | 30 | 是 | 表示该患者在本次就诊过程中的唯一标识 |\n| card_no    | 卡号 | 20 | 是  | 京医通卡或社保卡号|\n| card_type    | 卡类型 | 枚举 | 是  | 参考附录：卡类型 |\n| id_card_no    | 证件号码 | 30 | 是  |   |\n| id_card_type    | 证件类型 | 枚举 | 是  | 参考附录：证件类型 |\n| dept_code1    | 就诊一级科室编号 | 30 | 是 | NK |\n| dept_name1    | 就诊一级科室名称 | 30 | 是 | 内科 |\n| dept_code2    | 就诊二级科室编号 | 30 | 是 | NKZH |\n| dept_name2    | 就诊二级科室名称 | 30 | 是 | 内科综合 |\n| create_time    | 创建时间 | 日期 | 是 | yyyyMMddHHmmss |\n| report_time    | 报告时间 | 日期 | 是 | yyyyMMddHHmmss |\n| sample_status    | 检验状态 | 枚举 | 是 | 0-初始状态 1-已支付（待收集） 2-已收集（待核收） 3-已核收（待检验） 4-已检验完成（待审核） 5-已审核完成 6-可打印 7-打印完成 99-由于其他原因不可打印（推到此状态时要确保报告单已生成，患者可去某处可取） |\n| print_count    | 在lis系统中已经打印的次数 | 数字| 是 | 没有打印传0 |\n| group_type_id    | 报告单小组编号 | 20| 是 | 小组编号是指医院内对于某组报告单的唯一类型编码，在院内系统中叫法不一，有的叫小组编号、有的叫模板编号等等。用于我们识别不同报告单样式，选择标准的模板样式。医院需要提供一份每个小组编号的配置信息，我们的后台会进行模板配置 |\n| un_printable_prompt    | 不可打印的原因| 30 | 否 | 当前不能打印的原因，返回该字段提示用户  |\n\n### 检验清单详情查询\n\n#### 调用方式\n```powershell\nURI: /ws/check/detail\nMethod: POST\n```\n\n#### 请求参数\n```xml\n<request>\n  <time_stamp>20161103163351</time_stamp>\n  <input>\n    <hos_code>H110321</hos_code>\n    <card_no>118969415001</card_no>\n    <card_type>3</card_type>\n    <sample_id>12039819hasjdh</sample_id>\n  </input>\n</request>\n```\n| 参数名称      | 描述 | 格式 |  必填   | 说明|\n| :-: | :-:| :-: | :-: | :-:|\n| hos_code    | 医院编码 | 20 | 是  |  |\n| card_no    | 卡号 | 20 | 是  | |\n| card_type    | 卡类型 | 枚举 | 是  | 参考附录：卡类型 |\n| sample_id    | 检验单id | 255 | 是 | 变化的sample_id |\n\n#### 返回结果\n```xml\n<response>\n  <ret_code>0</ret_code>\n  <ret_msg>成功</ret_msg>\n  <output>\n\t  <hos_code>H110321</hos_code>\n\t  <card_no>118969415001</card_no>\n\t  <card_type>3</card_type>\n\t  <id_card_type>3</id_card_type>\n\t  <id_card_no>123</id_card_no>\n\t  <group_type_id>1203</group_type_id>\n\t  <smear_seen>涂片可见</smear_seen>\n\t  <sample_id>12039819hasjdh</sample_id>\n\t  <sample_name>报告单名称</sample_id>\n\t  <sample_treatment_no>病案/门诊号</sample_treatment_no>\n\t  <sample_type_name>末梢血<sample_type_name>\n\t  <sample_sn>样本号</sample_sn>\n\t  <sample_sn_type_name>常</sample_sn_type_name>\n\t  <medical_record_number>病例号</medical_record_number>\n\t  <user_id>123</user_id>\n\t  <user_type>医保</user_type>\n\t  <user_name>患者名字</user_name>\n\t  <sex>1</sex>\n\t  <birthday>1990-09-09</birthday>\n\t  <age_detail>20</age_detail>\n\t  <dept_code1>NK</dept_code1>\n\t  <dept_name1>内科</dept_name1>\n\t  <dept_code2>NKZH</dept_code2>\n\t  <dept_name2>内科综合</dept_name2>\n\t  <exec_dept_name>执行科室</exec_dept_name>\n\t  <doctor_code>asdasd</doctor_code>\n\t  <doctor_name>医生的名字</doctor_name>\n\t  <clinical_diagnosis>肺炎</clinical_diagnosis>\t\n\t  <bed_room>急诊观察室505<bed_room>\n\t  <bed_no>35</bed_no>\n\t  <sample_collector>采样人</sample_collector>\n\t  <sample_sender>送样人</sample_sender>\n\t  <sample_checker>检验者</sample_checker>\n\t  <sample_checker_img>检验者图片</sample_checker_img>\n\t  <sample_auditor>审核人</sample_auditor>\n\t  <sample_auditor_img>审核人图片</sample_auditor_img>\n\t  <create_time>20161212101010</create_time>\n\t  <collect_time>20161212101010</collect_time>\n\t  <check_time>20161212101010</check_time>\n\t  <arrive_check_time>20161212101010</arrive_check_time>\n\t  <report_time>20161212101010<report_time>\n\t  <sample_status>0</sample_status>  \n\t  <un_printable_prompt>因为你还没交钱，赶紧去交钱</un_printable_prompt>\n      <expected_time_consuming>2小时</expected_time_consuming>\n      <remark>备注</remark>\n      <print_count>0</print_count> \n      <equip_code>设备编号</equip_code>\n      <authenticate_result>鉴定结果</authenticate_result>\n\t <sample_items>\n\t\t  <item>\n\t\t\t  <index>2</index>\n\t\t\t  <code>3010050101</code>\n\t\t\t  <short_code><![CDATA[NEUT%]]></short_code>\n\t\t\t  <name>白细胞</name>\n\t\t\t  <en_name>WBC<en_name>\n\t\t\t  <prompt_type>1</prompt_type>\n\t\t\t  <result><![CDATA[7.70]]></result>\n\t\t\t  <unit><![[CDATA[10^9/L]]></unit>\n\t\t\t  <reference><![[CDATA[4-10]]></reference>\n\t\t\t  <level>0.5</level>\n\t\t\t  <monitor_method>监测方法</monitor_method>\n\t\t\t  <authenticate_type>细菌1(特殊字段)</authenticate_type>\n\t\t\t  <reagent>试剂</reagent>\n\t\t\t  <expert_conclusions>鉴定结论</expert_conclusions>\n\t\t\t  <bacteria_quantity>菌量结果</bacteria_quantity>\n\t\t\t  <drug_resistant>耐药表型</drug_resistant>\n\t\t\t  <explain>解释说明</explain>\n\t\t  </item>\n\t\t   <item>\n\t\t\t  <index>3</index>\n\t\t\t  <code>3010050102</code>\n\t\t\t  <short_code><![CDATA[NEUT%]]></short_code>\n\t\t\t  <name>红细胞</name>\n\t\t\t  <en_name>WBC<en_name>\n\t\t\t  <prompt_type>1</prompt_type>\n\t\t\t  <result><![CDATA[7.70]]></result>\n\t\t\t  <unit><![[CDATA[10^9/L]]></unit>\n\t\t\t  <reference><![[CDATA[4-10]]></reference>\n\t\t\t  <level>0.0</level>\n\t\t\t  <monitor_method>监测方法</monitor_method>\n\t\t\t  <authenticate_type>细菌2</authenticate_type>\n\t\t\t  <reagent>试剂</reagent>\n\t\t\t  <expert_conclusions>鉴定结论</expert_conclusions>\n\t\t\t  <bacteria_quantity>菌量结果</bacteria_quantity>\n\t\t\t  <drug_resistant>耐药表型</drug_resistant>\n\t\t\t  <explain>解释说明</explain>\n\t\t  </item>\n\t  </sample_items>\n\t  <sample_images>\n\t\t  <image>\n\t\t\t  <index>1</index>\n\t\t\t  <code>WBC</code>\n\t\t\t  <name>白细胞分布图</name>\n\t\t\t  <en_name>WBC<en_name>\n\t\t\t  <description>haha 我是说明</description>\n\t\t\t  <byte_code>123928739187239</byte_code>\n\t\t  </image>\n\t\t  <image>\n\t\t\t  <index>2</index>\n\t\t      <code>WBC</code>\n\t\t\t  <name>白细胞分布图</name>\n\t\t\t  <en_name>WBC<en_name>\n\t\t\t  <description>haha 我是说明</description>\n\t\t\t  <byte_code>123928739187239</byte_code>\n\t\t  </image>\n\t  </sample_images>\n  </output>\n</response>\n```\n\n##### 大节点\n\n| 参数名称      | 描述 | 格式 |  必填   | 说明|\n| :-: | :-:| :-: | :-: | :-:|\n| hos_code    | 医院编码 | 20 | 是  |  |\n| card_no    | 卡号 | 20 | 是  | 京医通卡或社保卡号|\n| card_type    | 卡类型 | 枚举 | 是  | 参考附录：卡类型 |\n| id_card_no    | 证件号码 | 30 | 是  |   |\n| id_card_type    | 证件类型 | 枚举 | 是  | 参考附录：证件类型 |\n| group_type_id    | 小组编号 | 20 | 是 | 小组编号是指医院内对于某组报告单的唯一类型编码，在院内系统中叫法不一，有的叫小组编号、有的叫模板编号等等。用于我们识别不同报告单样式，选择标准的模板样式。医院需要提供一份每个小组编号的配置信息，我们的后台会进行模板配置 |\n| smear_seen    | 说明栏展示文字 | 30 | 否 | 例如：涂片所见  该字段展示说明栏文字内容（仅限说明栏文字格式简单） 说明栏文字格式过于复杂请选取后台配置图片显示说明栏方式 |\n| sample_id    | 检验id | 255 | 是 | lis系统中的检验单唯一编号，遵循安全、唯一、不重复的标准 |\n| sample_name    | 报告单名称 | 255 | 是 | 申请项目名称或申请医嘱 |\n| sample_treatment_no    | 病案/门诊号 | 255 | 是 | 在医院内容系统里是唯一 |\n| sample_type_name    | 样本类型 | 30 | 是 | 例如：粪便 |\n| sample_sn    | 样本号 | 10 | 是 | 例如：8 |\n| sample_sn_type_name    | 样本号展示类型 | 30 | 是 | 与样本号拼接展示，例如：常 报告单样本号处展示 常8  |\n| medical_record_number    | 病历号 | 30 | 否 |  |\n| user_id    | 院内患者id | 30 | 是 |  |\n| user_type    | 患者类型 | 30 | 是 | 自费，医保 |\n| user_name    | 患者名字 | 30 | 是 | 例如：赵本山 |\n| sex    | 患者性别 | 枚举 | 是 | 参考附录：性别 |\n| birthday    | 患者生日 | 日期 | 是 | 2010-10-09 |\n| age_detail    | 患者年龄 | 20 | 是 | 例如：20 或 7月2天 |\n| dept_code1    | 就诊一级科室编号 | 30 | 是 | NK |\n| dept_name1    | 就诊一级科室名称 | 30 | 是 | 如：内科  此字段为报告单就诊科室展示的内容，以及发送微信提醒中就诊科室展示内容|\n| dept_code2    | 就诊二级科室编号 | 30 | 否 | NKZH |\n| dept_name2    | 就诊二级科室名称 | 30 | 否 | 内科综合 |\n| exec_dept_name    | 执行科室 | 30 | 是 | 可以在后面拼接科室电话号码 |\n| doctor_code    | 送检医生编码 | 30 | 是 |  |\n| doctor_name    | 送检医生名字 | 30 | 是 |  |\n| clinical_diagnosis    | 临床诊断结果 | 30 | 是 |  如果有一定要传，平台不做空校验 |\n| bed_room    | 病房 | 30 | 否 | 如果是住院病人则必须 |\n| bed_no    | 病床 | 30 | 否 | 如果是住院病人则必须 |\n| sample_collector    | 采样人 | 30 | 是 |  |\n| sample_sender    | 送样人 | 30 | 是 |  |\n| sample_checker    | 检验医师名字 | 30 | 否 | 报告单\"检验者\"处展示的内容，若传文字使用该字段，sample_checker与sample_checker_img哪个有值取哪个 |\n| sample_checker_img    | 检验医师名字图片（二进制图片） | 5000 | 否 | **该字段需要base64压缩** 报告单\"检验者\"处展示的内容，若传图片使用该字段，sample_checker与sample_checker_img哪个有值取哪个,若两个都传优先取文字。<font color=\"#FF0000\">若使用签名请将sample_checker传空</font>  |\n| sample_auditor    | 审核医师名字 | 30 | 否 | 报告单\"审核者\"处展示的内容，若传文字使用该字段，sample_auditor与sample_auditor_img哪个有值取哪个 |\n| sample_auditor_img   | 审核医师名字图片（二进制图片）| 5000 | 否 | **该字段需要base64压缩** 报告单\"审核者\"处展示的内容，若传图片使用该字段，sample_auditor与sample_auditor_img哪个有值取哪个，若两个都传优先取文字。<font color=\"#FF0000\">若使用签名请将sample_auditor传空</font> |\n| create_time    | 创建时间 | 日期 | 是 | yyyyMMddHHmmss |\n| collect_time    | 样例收集时间 | 日期 | 是 | yyyyMMddHHmmss |\n| check_time    | 检验时间 | 日期 | 是 | yyyyMMddHHmmss |\n| arrive_check_time    | 核收时间,送到化验室的时间 | 日期 | 是 | yyyyMMddHHmmss |\n| report_time    | 报告时间 | 日期 | 是 |  yyyyMMddHHmmss|\n| sample_status    | 检验状态 | 枚举 | 是 | 0-初始状态 1-已支付（待收集） 2-已收集（待核收） 3-已核收（待检验） 4-已检验完成（待审核） 5-已审核完成 6-可打印 7-打印完成 99-由于其他原因不可打印（推到此状态时要确保报告单已生成，患者可去某处可取） |\n| print_count    | 已经了的打印次数 | 数字| 是 | 没有打印传0 |\n| expected_time_consuming    | 预计耗时 | 30 | 否 |  请根据医院业务情况返回可读的信息，例如2小时，10分钟，5分钟，一个工作日  |\n| un_printable_prompt    | 不可打印的原因| 30 | 否 | 当前不能打印的原因，返回该字段提示用户  |\n| remark    | 备注 | 30 | 否 | 例如：原标本已重复，注意追查  用于检验单上\"备注：\"处展示的内容 |\n| equip_code    | 设备编号 | 30 | 否 | 做检验项目时使用的设备，个别检验单需展示此内容 <br> 特殊：例如微生物模板通过该字段传输检验项目结果eg.★细菌培养+药敏 |\n| authenticate_result    | 鉴定结果 | 30 | 否 | 个别检验单需展示此内容，某些报告单的培养结果通过该字段传输，eg.金黄色葡萄球菌 <br> 特殊：若为微生物、细菌报告单，即一个sample_id对应多个细菌结果时，将多个鉴定结果用“^”符号拼接。eg. 细菌1^细菌2^细菌3 这种我们认为此报告对应3份细菌的报告 | |\n\n##### item节点\n特殊：微生物、细菌报告单对应多个细菌结果时，将多个细菌结果的item项都传入，通过authenticate_type来区分不同的细菌结果项目列表\n\n| 参数名称      | 描述 | 格式 |  必填   | 说明|\n| :-: | :-:| :-: | :-: | :-:|\n| index    | 展示顺序 | 数字 | 是  | 会根据此字段由小至大展示项目顺序 |\n| code    | 项目编号 | 40 | 是  |  |\n| short_code    | 项目简称 | 40 | 是  | <font color=\"#FF0000\">例如：<![CDATA[NEUT#]]> 报告单上项目的英文名称或英文简称那一列展示此字段</font> |\n| name    | 项目名称 | 20 | 是  |报告单上项目的中文名称那一列展示此字段 |\n| en_name    | 项目英文名称 | 10 | 是  | 例如：<![CDATA[GLU]]>  |\n| result    | 项目结果 | 10 | 是 | 例如：<![CDATA[0.41]]> 报告单项目的结果展示此字段（个别报告单无结果那一列，浓度那一列展示此字段）  |\n| unit    | 项目单位 | 15 | 是 | 例如：<![CDATA[10^9/L]]> 备注：细菌、微生物报告单的MIC通过该字段传输|\n| reference    | 参考范围 | 30 | 否 | 有该字段的项目一定要传 |\n| monitor_method    | 检测方法 | 30 | 否 | 有该字段的项目一定要传 |\n| level    | 级别 | 30 | 否 | 有该字段的项目一定要传 |\n| prompt_type    | 提示类型 | 枚举 | 否 | 0-正常（无提示）1-偏低 2-偏高 3-异常低 4-异常高 （在检验单上会以箭头的形式体现） |\n| authenticate_type | 报告对应的细菌结果 | 30 | 否 | 此字段针对微生物、细菌报告单对应多个细菌结果时，与authenticate_result里拼接的细菌结果对应，区分是哪个细菌结果的item项 eg.细菌1  平台根据此字段拆分报告 |\n| reagent    | 试剂 | 30 | 否 | 有该字段的项目一定要传 |\n| expert_conclusions    | 鉴定结论 | 30 | 否 |  |\n| bacteria_quantity    | 菌量结果 | 30 | 否 |  |\n| drug_resistant    | 耐药表型 | 30 | 否 |  |\n| explain    | 解释说明 | 30 | 否 | 解释说明 |\n\n##### image节点\n检验报告结果项下面需展示图片时，需要展示的图片传入该节点\n\n| 参数名称      | 描述 | 格式 |  必填   | 说明|\n| :-: | :-:| :-: | :-: | :-:|\n| index    | 展示顺序 | 数字 | 是  | 会根据此字段由小至大展示图片顺序 |\n| code    | 项目编号 | 40 | 是  |  |\n| name    | 项目名称 | 20 | 是  |  例如：白细胞直方图 图片旁边展示的项目名称|\n| en_name    | 项目英文名称 | 10 | 是  | 例如：<![CDATA[WBC-S]]> 图片旁边展示的英文编码 |\n| byte_code    | 二进制图片 | 5000 | 否 | **该字段需要base64压缩**  |\n| description    | 说明信息 | 15 | 否 |  | |\n\n### 打印完成通知\n用户打印成功后平台通过调用该接口进行打印完成通知。\n\n#### 调用方式\n```powershell\nURI: /ws/check/print\nMethod: POST\n```\n\n#### 请求参数\n```xml\n<request>\n  <time_stamp>20161104115305</time_stamp>\n  <input>\n    <hos_code>H110321</hos_code>\n    <card_no>98010003011511</card_no>\n    <card_type>2</card_type>\n    <sample_id>321930198230aksdkj</sample_id>\n  </input>\n</request>\n```\n| 参数名称      | 描述 | 格式 |  必填   | 说明|\n| :-: | :-:| :-: | :-: | :-:|\n| hos_code    | 医院编码 | 20 | 是  |  |\n| card_no    | 卡号 | 20 | 是  | |\n| card_type    | 卡类型 | 枚举 | 是  | 参考附录：卡类型 |\n| sample_id    | 检验id | 255 | 是 | sample_id  |\n\n#### 响应结果\n```xml\n<response>\n  <ret_code>0</ret_code>\n  <ret_msg>成功</ret_msg>\n  <output/>\n</response>\n```\n\n#### 接口实现要求\n由于网络交互中可能存在抖动和重传，His需要根据接口中的`sample_id`字段进行幂等判定标志。如果库中存在对应的`sample_id`已经打印成功，切忌返回错误信息，请返回成功，以便平台重试成功。\n\n>**特别注意**该接口实现幂等可以满足绝大部分的异常场景。按照现有的经验基本可以保证99.99%的正确率。"
    }
  ]
}